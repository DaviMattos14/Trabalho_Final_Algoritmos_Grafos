<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>MVP - Visualizador de Algoritmos</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>

    <h1><span id="algorithmTitle"></span> (MVP)</h1>

    <div id="container">
        
        <div class="left-column">
            
            <div class="control-row">
                <button id="btn-edit-graph" class="action-btn">‚úèÔ∏è Editar Grafo</button>
                
                <div class="input-wrapper">
                    <label for="startNodeInput">In√≠cio:</label>
                    <input type="text" id="startNodeInput" class="small-input" placeholder="0">
                </div>
            </div>

            <canvas id="graphCanvas" width="600" height="400"></canvas>
        </div>

        <div id="uiPanel">
            
            <div id="codeBox">
                <pre id="pseudoCode"></pre>
            </div>

            <div id="queueBox">
                <strong id="queueLabel">Fila (Queue):</strong>
                <div id="queueVector">[]</div>
            </div>
            
            <div id="statusBox">
                <strong>Status:</strong> <span id="statusText">Aguardando...</span>
            </div>
            
            <div id="finishedBox">
                <strong>Ordem de Finaliza√ß√£o:</strong>
                <div id="finishedVector">[]</div>
            </div>
            
        </div>
    </div>

    <div id="controls">
        <label for="algoSelector">Algoritmo:</label>
        <select id="algoSelector">
            <option value="dfs">Busca em Profundidade (DFS)</option>
            <option value="bfs">Busca em Largura (BFS)</option>
            <option value="topo">Ordena√ß√£o Topol√≥gica</option>
            <option value="dijkstra">Dijkstra (Caminho M√≠nimo)</option>
        </select>

        <div id="directedControlContainer" style="display:none; align-items:center; margin-left: 15px; gap: 5px;">
            <input type="checkbox" id="directedCheckbox" checked>
            <label for="directedCheckbox" style="cursor: pointer;">Direcionado</label>
        </div>

        <div style="width: 20px;"></div> 

        <label for="speedSlider">Velocidade:</label>
        <input type="range" id="speedSlider" min="100" max="2000" value="1200" step="100">
        
        <button id="btn-prev">‚èÆ Retroceder</button>
        <button id="btn-play-pause">‚ñ∂ Play</button>
        <button id="btn-next">Avan√ßar ‚è≠</button>
        <button id="resetBtn">‚Ü∫ Resetar</button>
    </div>

    <div id="inputModal" class="modal">
        <div class="modal-content" style="width: 70%; max-width: 800px;"> <span class="close-modal">&times;</span>
            <h2>Editar Grafo</h2>
            
            <div class="tabs">
                <button class="tab-btn active" data-tab="text">üìù Texto</button>
                <button class="tab-btn" data-tab="visual">üé® Desenhar</button>
            </div>

            <div id="tab-text" class="tab-content active">
                <p class="hint">
                    Formato Ponderado: <b>0: [ ["1", 5], "2" ]</b><br>
                    (Use <b>["Destino", Peso]</b> ou apenas <b>"Destino"</b> para peso 1)
                </p>
                <textarea id="graphInput" rows="15"></textarea>
            </div>

            <div id="tab-visual" class="tab-content">
                <div class="editor-toolbar">
                    <span class="hint">
                            üñ±Ô∏è Esq: <b>Criar N√≥</b> | ‚ö´ Arrastar: <b>Aresta</b> | SHIFT + Esq: <b>Mudar Peso</b><br>
                            üñ±Ô∏è Dir: <b>Mover N√≥</b> | ‚ùå 2x Dir: <b>Apagar Aresta</b> | ‚ùå 2x Esq: <b>Apagar N√≥</b>
                        </span>
                    <button id="btn-clear-editor" class="secondary-btn">Limpar Tudo</button>
                </div>
                <canvas id="editorCanvas" width="750" height="400" style="border: 1px solid #ccc; background: #fff; cursor: crosshair;"></canvas>
            </div>
            
            <div class="modal-actions">
                <button id="btn-load-graph" class="primary-btn">Salvar e Atualizar</button>
            </div>
        </div>
    </div>

    <script type="module" src="js/editor.js"></script>
    <script type="module" src="js/app.js"></script>
</body>
</html>